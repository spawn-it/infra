{
  "s3_region": "us-east-1",
  "s3_endpoint": "http://localhost:9000",
  "s3_access_key": "minioadmin",
  "s3_secret_key": "minioadmin",

  "instances" : {
    "s3": {
      "provider": "docker",
      "container_name": "spawn-it-so3",
      "image": "quay.io/minio/minio:latest",
      "ports": {
        "9000": "9000",
        "9001": "9001"
      },
      "env_vars" : {
        "MINIO_ROOT_USER"     : "minioadmin",
        "MINIO_ROOT_PASSWORD" : "minioadmin"
      },
      "command": [ "server", "/data", "--console-address", ":9001" ],
      "volume": {
        "type": "volume",
        "source": "minio-volume",
        "container_path": "/data"
      }
    },
  
    "backend": {
      "provider": "docker",
      "container_name": "spawn-it-backend",
      "image": "ghcr.io/spawn-it/backend:latest",
      "ports": {
        "8000": "8080"
      },
      "env_vars": {
        "S3_URL": "http://localhost:9000",
        "S3_CONSOLE_URL": "http://localhost:9001",
        "S3_ACCESS_KEY": "minioadmin",
        "S3_SECRET_KEY": "minioadmin",
        "S3_BUCKET": "tfstates"
      },
      "command" : [ "uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000" ],
      "volume" : null
    }
  },
  "configs" : {
    "s3": {
      "bucket" : "tfstates"
    }
  }
}
  